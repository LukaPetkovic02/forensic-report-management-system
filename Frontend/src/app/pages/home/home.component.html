<h2>Welcome!</h2>
<button (click)="logout()">Logout</button>

<div style="padding: 40px">

  <h2>Upload forensic report</h2>

  <input type="file"
         accept="application/pdf"
         (change)="onFileSelected($event)" />

  <div *ngIf="showForm" style="margin-top: 30px">

    <h3>Forensic report data</h3>

    <form>
      <label>Organization name:</label><br>
      <input [(ngModel)]="formData.organizationName" name="organizationName" placeholder="Organization name" /><br><br>

      <label>Address:</label><br>
      <input [(ngModel)]="formData.address" name="address" placeholder="Address" /><br><br>

      <label>Email:</label><br>
      <input [(ngModel)]="formData.email" name="email" placeholder="Email" /><br><br>

      <label>Phone number:</label><br>
      <input [(ngModel)]="formData.phone" name="phone" placeholder="Phone number" /><br><br>

      <label>File name:</label><br>
      <input [(ngModel)]="formData.fileName" name="fileName" placeholder="File name" /><br><br>

      <label>Classification:</label><br>
      <input [(ngModel)]="formData.classification" name="classification" placeholder="Classification" /><br><br>

      <label>Hash value:</label><br>
      <input [(ngModel)]="formData.hash" name="hash" placeholder="Hash value" /><br><br>

      <label>Threat name:</label><br>
      <input [(ngModel)]="formData.threatName" name="threatName" placeholder="Threat name" /><br><br>

      <label>Behavior description:</label><br>
      <textarea [(ngModel)]="formData.behaviorDescription"
                name="behaviorDescription"
                placeholder="Behavior description"
                rows="4"></textarea><br><br>

      <label>Forensic expert 1:</label><br>
      <input [(ngModel)]="formData.forensicExpert1" name="forensicExpert1" placeholder="Forensic expert 1" /><br><br>

      <label>Forensic expert 2:</label><br>
      <input [(ngModel)]="formData.forensicExpert2" name="forensicExpert2" placeholder="Forensic expert 2" /><br><br>

      <button type="button" (click)="confirm()">Confirm</button>
      <button type="button" (click)="cancel()">Cancel</button>
    </form>

  </div>
</div>

<hr style="margin:40px 0;">

<h2>Search Forensic Reports</h2>

<form (submit)="searchReports(); $event.preventDefault()">
  <label>Forensic Expert:</label>
  <input [(ngModel)]="searchData.expert" name="expert" placeholder="Name of expert" /><br><br>

  <label>Hash value:</label>
  <input [(ngModel)]="searchData.hash" name="hash" placeholder="Hash" /><br><br>

  <label>Classification:</label>
  <input [(ngModel)]="searchData.classification" name="classification" placeholder="Classification" /><br><br>

  <button type="submit">Search</button>
</form>

<div *ngIf="searchResults.length > 0" style="margin-top: 30px;">
  <h3>Search Results</h3>
  <table cellpadding="5" cellspacing="0">
    <tr>
      <th>Organization</th>
      <th>Hash</th>
      <th>Classification</th>
      <th>Threat Name</th>
      <th>Behavior</th>
      <th>Expert 1</th>
      <th>Expert 2</th>
    </tr>
    <tr *ngFor="let report of searchResults">
      <td>{{report.organizationName}}</td>
      <td>{{report.hash}}</td>
      <td>{{report.classification}}</td>
      <td>{{report.threatName}}</td>
      <td>{{report.behaviorDescription}}</td>
      <td>{{report.forensicExpert1}}</td>
      <td>{{report.forensicExpert2}}</td>
    </tr>
  </table>
</div>

<div *ngIf="searchResults.length === 0 && searchPerformed" style="margin-top: 30px;">
  <p>No reports found.</p>
</div>